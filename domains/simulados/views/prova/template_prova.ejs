<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <title>Template Geração PDF - IFVest Estilo ENEM</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <%- include('../partials/libs') %>
        <link rel="stylesheet" href="/simulados/css/prova/templateprova.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
        <script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
        <script src="https://unpkg.com/turndown/dist/turndown.js"></script>
        <script type="module" crossorigin src="/simulados/assets/index-Dvz0wraj.js"></script>
        <link rel="stylesheet" crossorigin href="/simulados/assets/index-BWEAWr6k.css">

        <style>
            .header,
            #navbar {
                display: none;
            }

            @media print {
                .questao-wrapper {
                    page-break-inside: avoid !important;
                    break-inside: avoid !important;
                }
            }
        </style>
</head>

<body>
    <main>
        <div class="uk-flex uk-flex-between" id="button-container">
            <button id="generate-pdf" class="button" onclick="gerarPDF('<%= simulado.id_simulado %>')">
                <i class="fas fa-print"></i> Gerar PDF
            </button>


        </div>


        <div class="title-div">
            <h1>Simulado ENEM - IFVest <%= new Date().getFullYear() %>
            </h1>
        </div>

        <form id="questionario">
            <div class="instrucoes">
                <p><strong>Instruções Gerais:</strong> Leia atentamente cada questão antes de responder. Marque apenas
                    uma alternativa nas questões objetivas e utilize o espaço reservado nas dissertativas.</p>
            </div>

            <div class="questoes-container">
                <% simulado.Questao.forEach((questao, index)=> { %>
                    <div class="questao-wrapper" data-questao="<%= questao.id_questao %>">


                        <div class="questao-content">
                            <% if (questao.titulo) { %>
                                <div class="titulo">
                                    <p>
                                        <%= questao.titulo %>
                                    </p>
                                </div>
                                <% } %>

                                    <div class="pergunta" data-delta='<%= questao.pergunta %>'>
                                        <span class="required">*</span>
                                    </div>

                                    <% if (questao.tipo==="OBJETIVA" ) { %>
                                        <div class="opcoes-container">
                                            <% questao.Opcao.forEach((opcao, index)=> { %>
                                                <div class="opcao">
                                                    <label class="letra" for="opcao<%= opcao.id_opcao %>">
                                                        <%= opcao.alternativa %>)
                                                    </label>
                                                    <input class="radio-input" type="radio"
                                                        id="opcao<%= opcao.id_opcao %>"
                                                        name="questoes[<%= questao.id_questao %>]"
                                                        value="<%= questao.id_questao %>-<%= opcao.id_opcao %>"
                                                        disabled>
                                                    <div class="opcao-texto" data-delta='<%= opcao.descricao %>'>
                                                        <span class="required">*</span>
                                                    </div>
                                                </div>
                                                <% }) %>
                                        </div>
                                        <% } else if (questao.tipo==="DISSERTATIVA" ) { %>
                                            <div class="resposta-dissertativa">
                                                <textarea name="respostas[questao_<%= questao.id_questao %>]"
                                                    placeholder="Espaço para resposta dissertativa" disabled></textarea>
                                            </div>
                                            <% } %>
                        </div>
                    </div>
                    <% }) %>
            </div>
        </form>
    </main>
    <!-- <div id="pdfPreview" data-id="<%= simulado.id_simulado %>"></div> -->
    <script src="/simulados/js/main.js"></script>
    <script src="/simulados/js/prova/quillContentHTML.js"></script>
    <script src="/simulados/js/prova/gerarPDF.js"></script>



    <script>
        function fecharModal() {
            document.getElementById('modal-imprimir').style.display = 'none';
        }
    </script>


</body>

</html>